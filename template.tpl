___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Checkout Timer",
  "categories": [
    "UTILITY"
  ],
  "brand": {
    "id": "mbaersch",
    "displayName": "mbaersch",
    "thumbnail": "data:image/png;base64,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\u003d"
  },
  "description": "Stores a timestamp of the first checkout start within a session and pushes checkout duration time and event to the dataLayer with every transaction to fire a timing tag for checkout measurement.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "resetAfter",
    "displayName": "Checkout Timeout (Minutes)",
    "simpleValueType": true,
    "help": "Define a timeout for the checkout process. If checkout events without a preceding purchase occur after the timeout, a new timestamp restarts the timer.",
    "defaultValue": 30,
    "valueValidators": [
      {
        "type": "POSITIVE_NUMBER"
      },
      {
        "type": "NON_EMPTY"
      }
    ],
    "alwaysInSummary": true
  },
  {
    "type": "CHECKBOX",
    "name": "customEventNames",
    "checkboxText": "Custom Event Names",
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "startEventName",
    "displayName": "Start Event Name",
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "customEventNames",
        "paramValue": true,
        "type": "EQUALS"
      }
    ],
    "defaultValue": "checkoutTimerStart"
  },
  {
    "type": "TEXT",
    "name": "stopEventName",
    "displayName": "Stop Event Name",
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "customEventNames",
        "paramValue": true,
        "type": "EQUALS"
      }
    ],
    "defaultValue": "checkoutTimerStop"
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const localStorage = require('localStorage');
const copyFromWindow = require('copyFromWindow');
const getTimestampMillis = require('getTimestampMillis');
const createQueue = require('createQueue');
const makeInteger = require('makeInteger');

if (localStorage) {
    
  const dataLayerPush = createQueue('dataLayer');
  var hasEecPush = function(tp) {    
    var dl = copyFromWindow("dataLayer");  
    if (!dl) return;  
    var foundIndex = -1;  
    for (var i = dl.length-1; i >= 0; i--){   
      var el = dl[i];  
      if (el && el.hasOwnProperty('ecommerce') && el.ecommerce.hasOwnProperty(tp)) {  
        foundIndex = i;  
        break;  
      }   
    }  
    return (foundIndex >= 0);      
  };   
    
  const chkNow = getTimestampMillis();
  const chkResetAfter = data.resetAfter || 30; 
  var chkStart = localStorage.getItem('checkoutStartTimestamp'); 
  var isCheckout = hasEecPush("checkout");
  var isPurchase = hasEecPush("purchase");
  
  //recorded start older than threshold and still (or again) in checkout? then reset timer
  if ((isPurchase !== true) && (isCheckout === true) && chkStart && (chkNow - chkStart > 1000 * 60 * chkResetAfter)) 
    chkStart = undefined;
  
  
  if (chkStart && (isPurchase === true)) {
    localStorage.removeItem('checkoutStartTimestamp'); 
    var chkTimestamp = chkNow;
    chkStart = makeInteger(chkStart);
    var chkTime =  chkTimestamp - chkStart;
    dataLayerPush({event: data.stopEventName || "checkoutTimerStop", 
                           checkoutStart: chkStart, 
                           checkoutFinished: chkTimestamp, 
                           checkoutDuration: chkTime
                          });
  } else if (!chkStart && (isCheckout === true)) {
    localStorage.setItem('checkoutStartTimestamp', chkNow); 
    dataLayerPush({event: data.startEventName || "checkoutTimerStart", checkoutStart: chkNow});
  }
}

data.gtmOnSuccess();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "dataLayer"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_local_storage",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "checkoutStartTimestamp"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 22.9.2021, 22:25:42


